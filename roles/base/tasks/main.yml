---
- name: Install base packages
  pacman:
    name: "{{ base_packages }}"
    state: present
    update_cache: true

- name: Install bash
  pacman:
    name:
      - bash
      - bash-completion
    state: present

- name: Install zsh
  pacman:
    name:
      - zsh
      - zsh-completions
    state: present

- import_tasks: user.yml
- import_tasks: pacman.yml
- import_tasks: boot.yml

- name: Create journald.conf.d
  file:
    path: /etc/systemd/journald.conf.d
    owner: root
    group: root
    mode: 0755
    state: directory

- name: Copy journald.conf
  copy:
    src: journald.conf
    dest: /etc/systemd/journald.conf.d/storage.conf
    owner: root
    group: root
    mode: 0755
  notify: restart systemd-journald
